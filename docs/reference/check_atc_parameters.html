<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Validate ATC Parameters — check_atc_parameters • PRE2DUPR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validate ATC Parameters — check_atc_parameters"><meta name="description" content="Anatomical Therapeutic Chemical (ATC) Classification System parameters are used to define the classification of drugs and their daily defined doses (DDD).
This function checks the structure and content of a given ATC parameter file (data.frame or data.table) for use in pre2dup workflows.
The validation covers required columns, uniqueness, data types, value ranges, and logical consistency.
The function stops execution if critical errors are found."><meta property="og:description" content="Anatomical Therapeutic Chemical (ATC) Classification System parameters are used to define the classification of drugs and their daily defined doses (DDD).
This function checks the structure and content of a given ATC parameter file (data.frame or data.table) for use in pre2dup workflows.
The validation covers required columns, uniqueness, data types, value ranges, and logical consistency.
The function stops execution if critical errors are found."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PRE2DUPR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../tutorials/Instruction_to_build_package_parameter.html">Package Parameters</a></li>
    <li><a class="dropdown-item" href="../tutorials/introduction_to_ATC_parameter.html">ATC Parameters</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Validate ATC Parameters</h1>

      <div class="d-none name"><code>check_atc_parameters.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Anatomical Therapeutic Chemical (ATC) Classification System parameters are used to define the classification of drugs and their daily defined doses (DDD).
This function checks the structure and content of a given ATC parameter file (data.frame or data.table) for use in <code><a href="pre2dup.html">pre2dup</a></code> workflows.
The validation covers required columns, uniqueness, data types, value ranges, and logical consistency.
The function stops execution if critical errors are found.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_atc_parameters</span><span class="op">(</span></span>
<span>  <span class="va">dt</span>,</span>
<span>  atc_class <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  atc_ddd_low <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  atc_ddd_usual <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  atc_dur_min <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  atc_dur_max <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  print_all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  return_data <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dt">dt<a class="anchor" aria-label="anchor" href="#arg-dt"></a></dt>
<dd><p>data.frame or data.table containing the ATC parameters to validate.</p></dd>


<dt id="arg-atc-class">atc_class<a class="anchor" aria-label="anchor" href="#arg-atc-class"></a></dt>
<dd><p>Character. Name of the column containing the ATC class or code.</p></dd>


<dt id="arg-atc-ddd-low">atc_ddd_low<a class="anchor" aria-label="anchor" href="#arg-atc-ddd-low"></a></dt>
<dd><p>Character. Name of the column with the minimum daily DDD value.</p></dd>


<dt id="arg-atc-ddd-usual">atc_ddd_usual<a class="anchor" aria-label="anchor" href="#arg-atc-ddd-usual"></a></dt>
<dd><p>Character. Name of the column with the usual daily DDD value.</p></dd>


<dt id="arg-atc-dur-min">atc_dur_min<a class="anchor" aria-label="anchor" href="#arg-atc-dur-min"></a></dt>
<dd><p>Character. Name of the column with the minimum duration (in days).</p></dd>


<dt id="arg-atc-dur-max">atc_dur_max<a class="anchor" aria-label="anchor" href="#arg-atc-dur-max"></a></dt>
<dd><p>Character. Name of the column with the maximum duration (in days).</p></dd>


<dt id="arg-print-all">print_all<a class="anchor" aria-label="anchor" href="#arg-print-all"></a></dt>
<dd><p>Logical. If TRUE, all warnings are printed.</p></dd>


<dt id="arg-return-data">return_data<a class="anchor" aria-label="anchor" href="#arg-return-data"></a></dt>
<dd><p>Logical. If TRUE, the function returns the validated data. If FALSE, only a message is printed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>return_data = TRUE</code>, returns a data.table containing only the validated columns, with converted types.
If errors are detected, the function stops and prints error messages.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following checks are performed:</p><ul><li><p>Existence and naming of required columns</p></li>
<li><p>Uniqueness of ATC class values (no duplicates)</p></li>
<li><p>Validity of ATC codes (no missing or invalid values, correct type)</p></li>
<li><p>Validity of DDD and duration values (no negative or missing values, logical value ranges)</p></li>
<li><p>Correct order of minimum and maximum values (duration and DDD)</p></li>
</ul><p>If any errors are found, the function stops execution and prints all error messages.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">atc_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  atc_class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A01"</span>, <span class="st">"A02"</span>, <span class="st">"A03"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  atc_ddd_low <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  atc_ddd_usual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  atc_dur_min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">28</span>, <span class="fl">35</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  atc_dur_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">56</span>, <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Validate and return the data if all checks pass</span></span></span>
<span class="r-in"><span><span class="fu">check_atc_parameters</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dt <span class="op">=</span> <span class="va">atc_data</span>,</span></span>
<span class="r-in"><span>  atc_class <span class="op">=</span> <span class="st">"atc_class"</span>,</span></span>
<span class="r-in"><span>  atc_ddd_low <span class="op">=</span> <span class="st">"atc_ddd_low"</span>,</span></span>
<span class="r-in"><span>  atc_ddd_usual <span class="op">=</span> <span class="st">"atc_ddd_usual"</span>,</span></span>
<span class="r-in"><span>  atc_dur_min <span class="op">=</span> <span class="st">"atc_dur_min"</span>,</span></span>
<span class="r-in"><span>  atc_dur_max <span class="op">=</span> <span class="st">"atc_dur_max"</span>,</span></span>
<span class="r-in"><span>  print_all <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  return_data <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Checks passed for 'atc_data'.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    atc_class atc_ddd_low atc_ddd_usual atc_dur_min atc_dur_max</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       &lt;char&gt;       &lt;num&gt;         &lt;num&gt;       &lt;num&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       A01         0.1             1          10          40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       A02         0.2             2          28          56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       A03         0.3             3          35         100</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pia Vattulainen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

